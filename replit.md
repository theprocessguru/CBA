# Business Automation Platform

## Overview
This platform is a comprehensive business automation solution designed to help businesses automate operations, manage workflows, track performance, and streamline processes to improve efficiency and productivity. Its vision is to be the UK's leading AI-powered business association, offering practical AI tools and automation services tailored for small businesses, with ambitions to educate, motivate, develop, inspire, and empower entrepreneurs.

## User Preferences
Preferred communication style: Simple, everyday language.
Volunteers: No business listing menu items in dashboard (they don't need business features).

## Recent Changes
- **AI Summit Button Layout Fix (August 2025)**: Fixed UI issue where three action buttons (Exhibit Your Business, Speak at Summit, Volunteer with Us) were displaying vertically instead of horizontally. Added flex container with gap spacing, made buttons slightly smaller for better fit, and added responsive flex-wrap for mobile devices. Buttons now display properly in a single horizontal row.
- **Jobs Board API Field Mapping Fix (August 2025)**: Fixed critical field mapping issues in job posting API. Corrected camelCase field names to match Drizzle schema (jobType, workMode, etc.), fixed date handling for deadline field (string to Date object conversion), added proper defaults for required fields, and successfully tested job creation. Jobs board now fully functional with proper database integration.
- **Location Services Permission Fix (August 2025)**: Fixed issue where location services permission request wasn't working properly for admin users. Improved error handling with specific error messages, added request state tracking to prevent duplicate permission requests, removed incompatible cleanup function return, and added proper cleanup on component unmount. The "Enable" button now works correctly for all user types.
- **Profile Visibility Controls Added (August 2025)**: Added "Hide my profile" checkbox in profile management allowing users to hide their profiles from public directories, marketplace, and other public areas. When enabled, the user's business won't appear in searches or listings but they retain full access to member benefits. Added new admin user rithu@croydonba.co.uk with full admin privileges. Database updated with isProfileHidden field and business listings now filter out hidden profiles automatically.
- **Navigation Reorganization & Location Features Added (August 2025)**: Reorganized top navigation bar for cleaner interface by grouping Directory, Marketplace, and Events under a Membership dropdown menu. Moved Badge Scanner to only appear for logged-in users as a button in the navigation's right section. Added location-based welcome system that detects when users arrive at LSBU or event venues (within 200m radius) and displays personalized welcome messages. Implemented venue directions feature in events page allowing users to get Google Maps directions to any event location with a single click.
- **Comprehensive Affiliate Programme System Added (August 2025)**: Implemented complete affiliate referral system with automatic enrollment for all users, 5% commission on referred business payments, and Stripe integration for payouts. Features include unique affiliate codes, click tracking, conversion analytics, referral management dashboard, commission tracking, and payout requests. Admins can manage affiliates, approve commissions, and process bulk enrollments. Each user gets personalized referral links, real-time stats on clicks/conversions, detailed earnings reports, and can request payouts when balance exceeds Â£10. System tracks lifetime value of referrals and maintains ongoing monthly commissions as long as referred businesses remain paying members.
- **Event Time Slots & Speaker Assignment Added (August 2025)**: Implemented comprehensive event schedule management system. Admins can now create, edit, and delete time slots for events with detailed session information including titles, descriptions, types (keynote, workshop, panel, break), start/end times, room locations, and capacity limits. Features include primary speaker assignment, multiple additional speakers support, materials/resources management, streaming/recording URLs, tags, registration requirements, and display ordering. Time slots are organized by date with visual badges indicating session types. Accessible through admin dashboard with dedicated Event Time Slots management interface.
- **Exhibitor Visitor Scanning System Added (August 2025)**: Implemented comprehensive exhibitor stand visitor management system. Exhibitors can now scan visitor badges using QR codes to automatically capture contact details including name, email, phone, company, title, and student information. Features include real-time scanning with camera integration, duplicate scan prevention, lead scoring (0-100), follow-up status tracking (pending/contacted/not interested/converted), visitor tagging, and CSV export functionality. Exhibitors have dedicated dashboard sections for scanner access and visitor management with search, filtering, and detailed analytics.
- **CBA Board Members Added as Special Sponsors (August 2025)**: Added 7 CBA Board Member companies as sponsors with special "Board Member" tier (purple gradient with building icon): MyT Ai, MyT Automation, The Process Guru, Freshfield Markets, Joseph's Fruit and Veg Store (Surrey Street Market), Sauba and Daughters Accountancy, and Wagner Caleap Consultancy. Each board member sponsor has detailed company profile with industry info, specialties, achievements, and social media links. Board Members receive priority placement in sponsor spotlight with special recognition.
- **AI Summit Sponsorship System Added (August 2025)**: Implemented comprehensive sponsorship feature for AI Summit with database tables for sponsorship packages and event sponsors. Created dedicated sponsorship page with four tiers (Platinum, Gold, Silver, Bronze) including detailed benefits like logo placement, banner ads, co-branded lanyards, exhibition booths, and speaking slots. All sponsorship proceeds support CBA's community mission. Sponsorship button prominently placed in AI Summit banner for maximum visibility.
- **Access Control for Restricted Participant Types (January 2025)**: Implemented comprehensive access restrictions for residents, volunteers, exhibitors, speakers, and VIP guests. These participant types now have limited access to business features like profile management, product/service listings, and special offers. Dashboard displays clear notification about restricted features. Backend middleware prevents access to business-related API endpoints.
- **Original 235 Member Benefits Restored (August 2025)**: Fixed critical issue where comprehensive benefit system was accidentally reduced from 235 to 43 benefits. Restored full original benefits system with 235 benefits across 12 categories including 72 AI services, 26 technology benefits, 21 support services, and more. Benefits now properly categorized and integrated with authentic AI tools powered by ChatGPT Teams API.
- **Exhibition Area Tracking Added (August 2025)**: Enhanced attendance system with real-time exhibition area monitoring for three zones: Main Exhibition Hall (150 capacity), Networking Lounge (75 capacity), and Sponsor Showcase (100 capacity). Features live visitor counts, occupancy rates, color-coded capacity indicators, and average visit duration tracking. Integrated into both live dashboard and final reports.
- **Attendance System Event Integration Fixed (August 2025)**: Resolved issue where AI Summit wasn't appearing in attendance tracker dropdown. Updated system to fetch from both CBA events and general events tables, extending date range to show events within next 3 months. Now properly displays all active events including AI Summit for comprehensive attendance monitoring.
- **Contact Import System Added (August 2025)**: Created comprehensive bulk contact import system for volunteers, exhibitors, speakers, sponsors, and other participant types. Features CSV file upload with intelligent field mapping, auto-detection of column headers, duplicate checking, progress tracking, and detailed import results. Supports custom contact types and validates required fields with error reporting. Accessible through admin dashboard with template download functionality.
- **Business Analytics Dashboard Added (August 2025)**: Created comprehensive admin analytics system with real-time business insights. Includes membership distribution analysis, event performance metrics, revenue tracking, user engagement data, and financial KPIs. Features tabbed interface for membership, events, engagement, and financial analytics with customizable time periods.
- **Enhanced Membership Benefits Management (August 2025)**: Advanced membership pricing system with dynamic benefit editing, bulk feature import, cross-tier feature copying, and real-time benefit management. Admins can add/remove benefits individually or in bulk, with hover-to-delete functionality and advanced options panel.
- **Admin Event Management System Added (August 2025)**: Created comprehensive admin interface for managing CBA events with full CRUD operations. Admins can create, edit, delete, and view events through dedicated interface accessible via admin navigation menu. System includes advanced form validation, event status management, pricing controls, and integration with existing CBA events database.
- **Badge Printing Format Updated (August 2025)**: Changed badge dimensions from A4 page size to standard badge holder format (102mm x 76mm). All badges now print at proper size for badge holders with compact, professional layout optimized for wearing at events. User confirmed this works perfectly.
- **Password Visibility Toggle Added (August 2025)**: Added show/hide password functionality to all login and registration forms to help users with dysgraphia and improve general accessibility. Users can now see their password text while typing to verify correct input.
- **Speaker Duration Options Updated (August 2025)**: Removed 30 minute slot option from speaker interest form. Now only offers 15 minutes (lightning talk) and 45 minutes (extended talk) for standard talks, while workshops retain 45 and 60 minute options.

## System Architecture
### Frontend Architecture
- **Framework**: React 18 with TypeScript, built with Vite.
- **Styling**: Tailwind CSS with a custom design system, using Radix UI primitives and shadcn/ui components.
- **State Management**: TanStack Query for server state, React hooks for local state.
- **Routing**: Wouter for lightweight client-side routing.
- **Forms**: React Hook Form with Zod validation.
- **UI/UX Decisions**: Mobile-first responsive design, consistent component library, bottom navigation for mobile, specialized admin interfaces, back button navigation for improved user flow, consistent padding across admin pages.

### Backend Architecture
- **Runtime**: Node.js with Express.js.
- **Language**: TypeScript with ES modules.
- **Database**: PostgreSQL via Neon serverless, managed with Drizzle ORM for type-safe operations and Drizzle Kit for migrations.
- **Authentication**: Dual system supporting Replit OAuth and traditional email/password with bcrypt.
- **Session Management**: Express sessions with PostgreSQL store.
- **Data Storage**: PostgreSQL for primary data and sessions; base64 encoded images stored directly in the database.

### Core Features
- **Authentication & Authorization**: Dual authentication, secure HTTP-only cookies, PostgreSQL session store, role-based access (admin/user), and email-based password recovery.
- **Business Process Management**: Workflow automation, task management, performance analytics, and integration capabilities for external tools.
- **Automation Features**: Visual process builder, automated notification system, data import/export, and real-time reporting dashboards.
- **Membership System**: Five-tier membership system (Starter, Growth, Strategic, Patron, Partner) with over 245 practical business benefits including networking, support, training, discounts, and AI tools. Includes an automated membership limit enforcement system with real-time usage tracking and upgrade prompts.
- **Event Management**: Registration calendar system, venue capacity management, and a comprehensive volunteer profile system with enhanced scanner functionality to display volunteer-specific information.
- **AI Services**: Simplified AI service add-on pricing (AI Basics, AI Professional) focusing on practical tools like content writing, chatbots, and document processing. Includes HMRC compliance warning system and income threshold checker.
- **Badge System**: Comprehensive badge generation and download functionality with QR codes, supporting multiple participant roles for complex events. Badges optimized for standard badge holders (102mm x 76mm) instead of full A4 pages, with compact professional layout suitable for event wearing.

## External Dependencies
- **Database**: Neon PostgreSQL serverless database.
- **Email Service**: Configurable SMTP (NodeMailer) and SendGrid integration.
- **Payment Processing**: Stripe integration for subscription management.
- **AI Chatbot**: GoHighLevel for AI-powered chatbot with intelligent fallback responses.
- **Third-party APIs**: General integration capabilities for external business tools.
- **Development Tools (used in project)**: TypeScript, ESBuild, Tailwind CSS, Zod.